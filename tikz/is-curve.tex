\pgfmathdeclarefunction{gauss}{1}{%
    \pgfmathparse{1/(1.4*sqrt(2*pi))*exp(-((#1-4)^2)/(2*1.4^2))}%
}

\begin{tikzpicture}
\begin{axis}[
        axis x line=bottom,
        axis y line=left,
        xtick=\empty,
        ytick=\empty,
        ylabel={Intensity of accesses},
        xlabel={Page number},
        ymin=-.01,
        xmin=-.1,
        xmax=8.1,
     ]
    \addplot[name path=f,domain={0:8}] {gauss(x)};
    \addplot[name path=x,domain={0:8}] {0};
        \pgfplotsinvokeforeach{0,...,3}{
        \addplot[dashed] coordinates {(#1+4,0) (#1+4,{gauss(#1+4)})};
        \addplot[dashed] coordinates {(#1,0) (#1,{gauss(#1)})};

        \addplot[color = {rgb,4:red,#1;green,1;blue,2}] fill between[of=f and x,
            soft clip={(#1,0) rectangle (#1+1,1) },];
        \addplot[color = {rgb,4:red,#1;green,1;blue,2}] fill between[of=f and x,
            soft clip={(#1+4,0) rectangle (#1+5,1)},];
    }

    \addplot[solid,very thick,white] coordinates {(4,0) (4,{gauss(4)})};
\end{axis}
\end{tikzpicture}
