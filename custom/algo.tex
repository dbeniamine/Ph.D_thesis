%!TEX encoding=UTF-8 Unicode
\usepackage{algorithm}

% Count algorithms by chapter
% \makeatletter 
% \renewcommand\thealgorithm{\thechapter.\arabic{algorithm}} 
% \@addtoreset{algorithm}{chapter} 
% \makeatother

\usepackage{algpseudocode}
\usepackage{varwidth} % for algorithm in tikz node


%\algblockdefx[]{Function}{EndFunction}
%[2]{\algorithmicfunction\ \textproc{#1}{(#2)}}%
%{\algorithmicend\ \algorithmicfunction}%
%\algnewcommand\Callp[2]{\textproc{#1}(#2)}%

\algblockdefx[Program]{Program}{EndProgram}%
    [1]{\texttt{#1:}}%
    {}

\algnewcommand\Callp[2]{\textproc{#1}(#2)}%

% Listings

\usepackage{listings}

\makeatletter
\def\ext@algorithm{lol}% algorithm captions will be written to the .lol file
% share the list making commands and redefine the heading
\AtBeginDocument{%
  \let\l@algorithm\l@lstlisting
  \let\c@algorithm\c@lstlisting
  \let\thealgorithm\thelstlisting
  \renewcommand{\lstlistlistingname}{List of Algorithms and codes}%
}
\makeatother

%\renewcommand*\thelstnumber{\arabic{lstnumber}}

\DeclareCaptionFormat{mylst}{\hrule\vspace{1pt}#1#2#3}
\captionsetup[lstlisting]{format=mylst,labelfont=bf,singlelinecheck=off,labelsep=space}
%
\lstset{
    language=C,
    basicstyle=\small\ttfamily,
    numbers=left,
    numbersep=10pt,
    xleftmargin=20pt,
    frame=tb,
    framexleftmargin=20pt,
    escapeinside={@|}{@|},          % if you want to add LaTeX within your code
    keywordstyle=\bf,
    showspaces=false,
    showstringspaces=false,
}

% \lstset{ %
%   %backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
%   %basicstyle=\footnotesize,        % the size of the fonts that are used for the code
%   breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
%   breaklines=true,                 % sets automatic line breaking
%   captionpos=t,                    % sets the caption-position to bottom
%   %commentstyle=\color{mygreen},    % comment style
%   %deletekeywords={...},            % if you want to delete keywords from the given language
%   escapeinside={|}{|},          % if you want to add LaTeX within your code
%   extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
%   frame=tb,	                   % adds a frame around the code
%   keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
%   %keywordstyle=\color{blue},       % keyword style
%   language=C,                 % the language of the code
%   %otherkeywords={*,...},           % if you want to add more keywords to the set
%   numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
%   numbersep=5pt,                   % how far the line-numbers are from the code
%   numberstyle=\tiny, % the style that is used for the line-numbers
%   rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
%   showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
%   showstringspaces=false,          % underline spaces within strings only
%   showtabs=false,                  % show tabs within strings adding particular underscores
%   stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
%   stringstyle=\color{mymauve},     % string literal style
%   tabsize=2,	                   % sets default tabsize to 2 spaces
%   title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
% }
